{
  "name": "Pwrtelegram",
  "tagline": "Repository for the pwrtelegram bot API.",
  "body": "# Pwrtelegram API\r\nVersion 1.1 beta 3.   \r\nLicensed under AGPLv3.  \r\n\r\n[![API status](https://pwr-status.herokuapp.com)](https://pwr-status.herokuapp.com)\r\n\r\nThis repository contains the source code for the pwrtelegram API, a boosted version of the official telegram bot API.\r\n\r\nThe PWRTelegram API makes use of:  \r\n\r\n* The [Caddy](https://github.com/mholt/caddy) web server.\r\n* [HHVM](https://hhvm.com) as fastcgi engine\r\n* [php-mediainfo](https://github.com/mhor/php-mediainfo)\r\n* A modified version of [php-telegram-cli-client](https://github.com/zyberspace/php-telegram-cli-client)\r\n* A modified version of [telegram-cli](https://github.com/pwrtelegram/tg)\r\n* A modified version of [proxy.php](https://github.com/mcnemesis/proxy.php)\r\n* [telegram-lua-load](https://github.com/pwrtelegram/telegram-lua-load)\r\n\r\nThis API is written and maintained by [danog](https://github.com/danog) ([@danogentili on telegram](https://telegram.me/danogentili)) with the help of the folks over [@BotDevelopment](https://telegram.me/BotDevelopment), especially [itskenny0](https://github.com/itskenny0) ([@shitposting on telegram](https://telegram.me/shitposting)) and [Rondoozle](https://github.com/Rondoozle) ([@POTUS on Telegram](https://telegram.me/POTUS)).  \r\n\r\nIt is hosted on Scaleway.\r\n\r\nThe new PWRTelegram logo was created by [@BayernPars](https://telegram.me/BayernPars).\r\n\r\n## Features:  \r\n\r\nAll of the official telegram bot API features plus:  \r\n* Support for [deep telegram bots](https://telegram.me/daniilgentili).\r\n* Downloading of files up to 1.5 GB in size  \r\n* Anonymous file storage (the URL of downloaded files does not contain your bot's token)\r\n* Uploading of files up to 1.5 GB in size  \r\n* Uploading of files using an URL\r\n* Re-uploading of files using a file ID and different file type or file name.\r\n* Uploading of any file/URL/file ID with automagical type recognition.  \r\n* Uploading of any file/URL/file ID without sending the file to a specific user.  \r\n* Automagical metadata recognition of sent files/URLs/file IDs.  \r\n* Deleting of text messages sent from the bot.  \r\n* Uploading of files bigger than 5 megabytes with inline queries (supports both URLs and direct uploads)\r\n* Automatical type recognition for files sent using answerinlinequery \r\n* Both webhooks and getupdates are supported.\r\n* webhook requests can be recieved even on insecure http servers.\r\n* Resolving of usernames not only with channels and groups but also with normal users and bots.\r\n* Added getMessage function!\r\n* The sendChatAction function now has a duration parameter!\r\n* Profile pictures of channels and chats can now be fetched!\r\n* [It is open source](https://github.com/pwrtelegram)!\r\n* [It can be installed on your own server](https://github.com/pwrtelegram/pwrtelegram-backend)!\r\n* [You tell me!](https://telegram.me/pwrtelegramgroup)  \r\n\r\n## How do I enable it?  \r\n\r\nTo enable it simply substitute the URL of the bot telegram API (https://api.telegram.org) with the URL of the pwrtelegram API (https://api.pwrtelegram.xyz for normal bots and https://deepapi.pwrtelegram.xyz for deep telegram bots) in your telegram client.\r\n\r\nYou can use one of the following commands to do it:\r\n```\r\nsed -i 's/api\\.telegram\\.org/api\\.pwrtelegram\\.xyz/g' client.py\r\n# OR\r\nsed -i 's/api\\.telegram\\.org/deepapi\\.pwrtelegram\\.xyz/g' client.py\r\n```  \r\n\r\nThe client can be written in any language, not necessarily python.\r\n\r\nOr you can manually substitute ```api.telegram.org``` with ```api.pwrtelegram.xyz``` or ```deepapi.pwrtelegram.xyz``` in your bot,\r\n\r\nIf you use webhooks you must recall the setwebhook method.  \r\n\r\nThe API will automagically do the rest :)  \r\n\r\nAlso please insert the following text in the response to the /start command:  \r\n```\r\nThis bot makes use of the @pwrtelegram bot API to enhance its features.\r\n```\r\n\r\n\r\n## How do I use it?\r\n\r\nJust use it as you would use the official telegram bot API, only bear in the following points.\r\n\r\n* Please do not abuse of the API by uploading and/or downloading illegal or copyrighted material. The pwrtelegram API creator reserves the right to delete any illegal or copyrighted material that is found on his servers.  \r\n\r\n* The PWRTelegram API does not store in any way your bot's token but it does store the bot's username, the sha256 sum of uploaded files and the file ID and the size of uploaded and downloaded files.\r\n\r\n* This API won't be able to send big files if getUpdate or webhook requests aren't proxied through it. This is because when the API uploads these files using tg-cli it must obtain a file_id using the official bot API, and that can be done only by intercepting the incoming update with the file.\r\n\r\n* The methods used by the PWRTelegram API are the same ones used in the official telegram bot API, but they also have some additional features and in certain cases their behaviour is slightly modified (don't worry, that won't break your clients). There are also some methods that work only with the PWRTelegram API. Here's a list:\r\n\r\n* With this API you can use usernames to interact even with normal users and you can get info about bots using their username (with the getChat method).  \r\n\r\n* Do not send more than 50 different files (as in files with different sha256sums) without processing updates. Once reached this limit, files will not be sent if there's an unprocessed message from a user that isn't @pwrtelegramapi in front of the message queue (this limitation is only present if you use getupdates).  \r\n\r\n### getUpdates and webhook requests.\r\n\r\nThe response of these requests will be passed trough a piece of code that will filter out messages from @pwrtelegramapi.\r\n\r\n### getFile requests.\r\n\r\ngetFile requests are intercepted and the file is downloaded using the PWRTelegram API.  \r\nThe PWRTelegram API will then return a [File](https://core.telegram.org/bots/API#file) object.   \r\nYou can use the following anonymous url to download the file: ```https://storage.pwrtelegram.xyz/<file_path>``` (or ```https://deepstorage.pwrtelegram.xyz/<file_path>``` for deep telegram bots).\r\n\r\nThe anonymous download URL will be in one of the following formats:  \r\n```\r\nhttps://storage.pwrtelegram.xyz/botusername/filename.ext\r\nhttps://deepstorage.pwrtelegram.xyz/botusername/filename.ext\r\n```  \r\nThis way you will be able to safely share the download URL without exposing your bot's token.  \r\n\r\nYou can also trigger the caching of files already present on the telegram servers to the anonymous PWRTelegram storage server by downloading the file from the following URL: ```https://api.pwrtelegram.xyz/file/bot<token>/<file_path>``` (or ```https://deepapi.pwrtelegram.xyz/file/bot<token>/<file_path>``` for deep telegram bots). The next time you can download files directly from the anonymous URL.  \r\n\r\nIf your request times out and you try to redownload the file you will be returned a json array with the following values:\r\n\r\n  * ok => true\r\n\r\n  * error_code => 202\r\n\r\n  * description => Your file is currently being downloaded. Please try again later.\r\n\r\nYou can repeat the request until you get the File object.  \r\n\r\n### sendDocument, sendPhoto, sendVideo, sendAudio, sendVoice, sendSticker requests.  \r\n\r\nAll of the above requests will be processed using the PWRTelegram API.  \r\n\r\nThe usage of these methods is exactly the same as in the official Telegram BOT API, except that if the request contains a file URL instead of the document (or photo, etc) the file will be downloaded and sent with the given parameters.\r\n\r\nThe same will happen if you send a file ID that links to a file which type is different from the one specified in the URL or if you also provide a file name along with the file ID.\r\n\r\nThe PWRTelegram API will automagically obtain the metadata of the provided file/URL and send it along with the file itself (only if it isn't already present in the request).\r\n\r\nThis is the metadata that will be obtained and sent: \r\n\r\n* Video: width, height and duration as width, height and duration\r\n\r\n* Audio: track name, author, duration as title, author, duration\r\n\r\n* Voice: duration as duration  \r\n\r\n\r\nYou can also provide a ```file_name``` parameter containing the name of the file to be sent (this is useful when sending files from a URL). If this parameter is set the PWRTelegram API will rename the file/URL you sent and resend the file with the new file name.  \r\n\r\n\r\n\r\n### sendFile\r\n\r\nUse this method to send any file/URL/file ID. This method will automagically recognize the type of file/URL uploaded and send it using the correct telegram method. It will also automagically read file metadata and attach it to the request (only if it isn't already provided in the request). On success, the sent Message is returned.\r\n\r\nThis is the metadata that will be obtained and sent (only if not present in the request) along with the file:\r\n\r\n* Video: width, height and duration as width, height and duration\r\n\r\n* Audio: track name, author, duration as title, author, duration\r\n\r\n* Voice: duration as duration\r\n\r\n| Parameters           \t| Type                                                                           \t| Required \t| Description                                                                                                                                                                  \t|\r\n|----------------------\t|--------------------------------------------------------------------------------\t|----------\t|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\t|\r\n| chat_id              \t| Integer or String                                                              \t| Yes      \t| Unique identifier for the target chat or username of the target channel, group or user (in the format @username)                                                                     \t|\r\n| message_id           \t| Integer                                                                        \t| Yes      \t| Unique identifier of the sent message                                                                                                                                        \t|\r\n| file                 \t| String                                                                         \t| Yes      \t| File to send. You can either pass a URL as String to send a file from a URL, or a file ID as a string to re-upload a file already present on the Telegram servers or upload a new file using *multipart/form-data*.                                                \t|\r\n| caption              \t| String                                                                         \t| Optional \t| File caption (will only be applied if the sent file/URL is a photo, a video or a document), 0-200 characters                                                                 \t|\r\n| duration             \t| Integer                                                                        \t| Optional \t| Duration of the sent file/URL in seconds (will only be applied if the sent file/URL is an audio file, a video or a voice recording)                                          \t|\r\n| performer            \t| String                                                                         \t| Optional \t| Performer of the sent file/URL (will only be applied if the sent file/URL is an audio file)                                                                                  \t|\r\n| title                \t| String                                                                         \t| Optional \t| Title of the sent file/URL (will only be applied if the sent file/URL is an audio file)                                                                                      \t|\r\n| width                \t| Integer                                                                        \t| Optional \t| Width of the sent file/URL (will only be applied if the sent file/URL is a video file)                                                                                       \t|\r\n| height               \t| Integer                                                                        \t| Optional \t| Height of the sent file/URL (will only be applied if the sent file/URL is a video file)                                                                                      \t|\r\n| file_name            \t| String                                                                         \t| Optional \t| Name of the file to be sent. If set, the file will be sent with the specified file name.                                                                                     \t|\r\n| disable_notification \t| Boolean                                                                        \t| Optional \t| Sends the message silently. iOS users will not receive a notification, Android users will receive a notification with no sound.                                              \t|\r\n| reply_to_message_id  \t| Integer                                                                        \t| Optional \t| If the message is a reply, ID of the original message                                                                                                                        \t|\r\n| reply_markup         \t| InlineKeyboardMarkup or ReplyKeyboardMarkup or ReplyKeyboardHide or ForceReply \t| Optional \t| Additional interface options. A JSON-serialized object for an inline keyboard, custom reply keyboard, instructions to hide reply keyboard or to force a reply from the user. \t|\r\n\r\n\r\n### uploadFile, uploadDocument, uploadAudio, uploadVideo, uploadVoice, uploadPhoto, uploadSticker\r\n\r\nThese methods can be used to upload files to telegram without sending them to a particular user. Their usage is exactly the same as for their sendMethod counterparts, except that the chat_id, disable_notification, reply_to_message_id, reply_markup parameters will be ignored.  \r\n\r\nOn success, they will return a json array containing the following elements:\r\n\r\n* ok => true\r\n\r\n* result =>\r\n\r\n * file_id => Uploaded file id\r\n\r\n * file_type => Uploaded file type\r\n\r\n * file_size => Uploaded file size\r\n\r\nOtherwise the error is returned.\r\n\r\n\r\n### deleteMessage\r\n\r\nUse this method to delete text messages sent by the bot or via the bot (for inline bots).  \r\nOn success, if the message is deleted by the bot, a json array is returned with the following values:\r\n\r\n* ok => true\r\n\r\n* result => \"The message was deleted successfully.\"\r\n\r\nOtherwise the error is returned.\r\n\r\n| Parameters        \t| Type              \t| Required             \t| Description                                                                                                                                              \t|\r\n|-------------------\t|-------------------\t|----------------------\t|----------------------------------------------------------------------------------------------------------------------------------------------------------\t|\r\n| chat_id           \t| Integer or String \t| No (see description) \t| Required if inline_message_id is not specified. Unique identifier for the target chat or username of the target channel, group or user (in the format @username) \t|\r\n| message_id        \t| Integer           \t| No (see description) \t| Required if inline_message_id is not specified. Unique identifier of the sent message                                                                    \t|\r\n| inline_message_id \t| String            \t| No (see description) \t| Required if chat_id and message_id are not specified. Identifier of the inline message                                                                   \t|\r\n\r\n\r\n### You can use both getupdates and webhooks to get updates\r\n\r\nOnly remember that you will have to repeat the setwebhook request to enable proxying trough the PWRTelegram API.\r\n\r\n### answerInlineQuery\r\n\r\nThe usage of this method is exactly the same as in the official telegram bot api, except that you can provide URLs to files bigger than 5 megabytes and you can set the file type to ```file``` to enable automatical type and metadata recognition.\r\n\r\nYou can also upload files using via POST: you just have to upload the files with parameter name equal to ```inline_file0``` where 0 is the number of the file. The number has to be equal to the array index of the InlineQueryResult that will feature that file. The type_url field of that InlineQueryResult must also be empty.\r\n\r\nPlease note that it's better to upload the big files using the upload methods and store the file ids instead of uploading them directly using the answerInlineQuery method.  \r\n\r\n\r\n### getBackend\r\n\r\nThis method returns a Chat object with info about the backend pwrtelegram user.  \r\n\r\n### getMessage\r\n\r\nThis message returns a Message object with info about the provided message.\r\n\r\n| Parameters        \t| Type              \t| Required             \t| Description                                                                                                                                              \t|\r\n|-------------------\t|-------------------\t|----------------------\t|----------------------------------------------------------------------------------------------------------------------------------------------------------\t|\r\n| chat_id           \t| Integer or String \t| Yes\t\t \t| Unique identifier for the target chat or username of the target channel, group or user (in the format @username) \t|\r\n| message_id        \t| Integer           \t| Yes\t\t \t| Unique identifier of the sent message                                                                    \t|\r\n\r\n\r\n### sendChatAction\r\n\r\nThe usage of this method is exactly the same as in the official telegram bot api, except that you can provide a duration parameter in order to keep the action active for a period of time longer than 5 seconds.\r\n\r\nThe duration parameter accepts an integer.\r\n\r\n### getProfilePhotos\r\n\r\nUse this method to get a list of profile pictures for a user, chat or channel. Returns a [UserProfilePhotos](https://core.telegram.org/bots/api#userprofilephotos] object.\r\n\r\n| Parameters        \t| Type              \t| Required             \t| Description                                                                                                                                              \t|\r\n|-------------------\t|-------------------\t|----------------------\t|----------------------------------------------------------------------------------------------------------------------------------------------------------\t|\r\n| chat_id           \t| Integer or String \t| Yes\t\t \t| Unique identifier for the target chat or username of the target channel, group or user (in the format @username) \t|\r\n| offset        \t| Integer           \t| Optional\t \t| Sequential number of the first photo to be returned. By default, all photos are returned.                             |\r\n| limit         \t| Integer           \t| Optional\t \t| Limits the number of photos to be retrieved. Values between 1â€”100 are accepted. Defaults to 100.                      |\r\n\r\n\r\n## Known bugs\r\n\r\n* Please note that this API is still in beta and there might be small bugs. To report them contact [Daniil Gentili](https://telegram.me/danogentili) or [open an issue](https://github.com/pwrtelegram/pwrtelegram/issues) or [submit a pull request with a fix](https://github.com/pwrtelegram/pwrtelegram) or write to [@pwrtelegramgroup](https://telegram.me/pwrtelegramgroup).  \r\n\r\nSee the issues of the repos of the [pwrtelegram organization](https://github.com/pwrtelegram).\r\n\r\n## How can I help?\r\n\r\nYou can help by doing one or more of the following things:\r\n\r\n* Proofreading this documentation and sending a message to the [official support group](https://telegram.me/pwrtelegramgroup) if you have some corrections.\r\n* Peer reviewing the source code of this API and reporting bugs by contacting [Daniil Gentili](https://telegram.me/danogentili) or [opening an issue](https://github.com/pwrtelegram/pwrtelegram/issues) or [submitting a pull request with a fix](https://github.com/pwrtelegram/pwrtelegram) or writing to [@pwrtelegramgroup](https://telegram.me/pwrtelegramgroup).  \r\n* Starring the [repositories of the project](https://github.com/pwrtelegram) and sharing it around with your friends :)\r\n\r\n## More info\r\n\r\nFor questions contact https://telegram.me/danogentili or the [official support group](https://telegram.me/pwrtelegramgroup).\r\n\r\nShare this API and its official channel (https://telegram.me/pwrtelegram) with all of your friends! :) \r\n\r\nFeel free to contribute with pull Requests.  \r\n\r\n\r\nDaniil Gentili (http://daniil.it)\r\n\r\n\r\n\r\n\r\n[Privacy Policy of pwrtelegram.xyz website](http://privacypolicies.com/privacy/view/Yv8dZc)  \r\n[Cookie Policy of pwrtelegram.xyz website](https://cookie.daniil.it/?w=pwrtelegram)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}